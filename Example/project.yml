
include:
  - path: targets/template.yml
    relativePaths: false

# Название проекта
name: ReactiveDataDisplayManagerExample
options:
  # Версия Xcode
  xcodeVersion: 13.3
  # Создание пустых директорий
  generateEmptyDirectories: true
  # Создание групп
  createIntermediateGroups: true
settings:
  DEVELOPMENT_TEAM: EFAAG9GXN4
targets:

    ReactiveDataDisplayManagerExample_iOS:
      platform: iOS
      deploymentTarget: 11.0
      sources:
        - path: ReactiveDataDisplayManager
      info:
        path: ReactiveDataDisplayManager/Application/Info.plist
      templates:
        - BaseSetting
      templateAttributes:
        bundle_name: ReactiveDataDisplayManagerExample
        ui_test: ReactiveDataDisplayManagerExampleUITests

    ReactiveDataDisplayManagerExample_iOS_M1:
      platform: iOS
      deploymentTarget: 11.0
      sources:
        - path: ReactiveDataDisplayManager
      info:
        path: ReactiveDataDisplayManager/Application/Info.plist
      templates:
        - BaseSetting
      templateAttributes:
        bundle_name: ReactiveDataDisplayManagerExample
        ui_test: ReactiveDataDisplayManagerExampleUITests_M1

    ReactiveDataDisplayManagerExample_tvOS:
      platform: tvOS
      deploymentTarget: 13.0
      sources:
        - path: ReactiveDataDisplayManagerExampleTv
      info:
        path: ReactiveDataDisplayManagerExampleTv/Application/Info.plist
      templates:
        - BaseSetting
      templateAttributes:
        bundle_name: ReactiveDataDisplayManagerExampleTv
        ui_test: ReactiveDataDisplayManagerExampleUITests
      configs:
        Debug:
          EXCLUDED_ARCHS[sdk=iphonesimulator*]: "arm64"

    ReactiveDataDisplayManagerExampleUITests:
        templates:
          - ReactiveDataDisplayManagerExampleUITestsTemplate
        dependencies:
          - target: ReactiveDataDisplayManagerExample_iOS
        settings:
          configs:
            Debug:
              EXCLUDED_ARCHS[sdk=iphonesimulator*]: "arm64"
              TEST_TARGET_NAME: ReactiveDataDisplayManagerExample_iOS

    ReactiveDataDisplayManagerExampleUITests_M1:
        templates:
          - ReactiveDataDisplayManagerExampleUITestsTemplate
        dependencies:
          - target: ReactiveDataDisplayManagerExample_iOS_M1
        settings:
          configs:
            Debug:
              TEST_TARGET_NAME: ReactiveDataDisplayManagerExample_iOS


# Шаблон для тестовых таргетов
targetTemplates:
    ReactiveDataDisplayManagerExampleUITestsTemplate:
        type: bundle.ui-testing
        platform: iOS
        deploymentTarget:
          iOS: 10.0
          tvOS: 10.0
        scheme:
          configVariants: all
        sources: [ReactiveDataDisplayManagerExampleUITests]
        info:
          path: ReactiveDataDisplayManagerExampleUITests/Info.plist
          properties: []
